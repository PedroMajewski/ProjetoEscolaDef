<main>
    <div style="display: flex; align-items: center; justify-content: center; flex-direction: column;" class="p-2">
        <h2 style="font-size: 2.5rem;" class="m-4">Alunos</h2>
        <a type="button" (click)="new()" class="btn btn-success" mdbRipple>Adicionar Aluno</a>
    </div>
<div>
<table class="table">
    <thead>
      <tr>
        <th scope="col">Posição:</th>
        <th scope="col">Identificador:</th>
        <th scope="col">Nome do Aluno:</th>
        <th scope="col">Documento:</th>
        <th scope="col">Telefone:</th>
        <th scope="col">Cadastro está completo?:</th>
        <th scope="col">Ação:</th>
      </tr>
    </thead>
    <tbody>
        @for (Aluno of listaAluno; track $index){
    <tr>
        <td>{{ $index + 1 }}</td>
        <td>ID: {{Aluno.id}}</td>
        <td>{{Aluno.nome}}</td>
        <td>{{Aluno.cpf}}</td>
        <td>{{Aluno.telefone}}</td>
        <td>{{Aluno.cadastrocompleto ? "Sim" : "Cadastro Incompleto"}}</td>
        <td>
            <a (click)="edit(Aluno)" class="btn btn-warning btn-sm ms-1 me-1">Editar</a>
            <a (click)="delete(Aluno)" class="btn btn-danger btn-sm ms-1 me-1">Deletar</a>
        </td>
    </tr>
}
    </tbody>
  </table>
</div>
</main>

<ng-template #modalAlunoForm>
    <div class="modal-header">
        @if(alunoEdit.id > 0){
            <h5 class="modal-title" id="exampleModalLabel">Editar Aluno</h5>
        }@else {
            <h5 class="modal-title" id="exampleModalLabel">Novo Aluno</h5>  
        }
        <button type="button" class="btn-close" aria-label="Close" (click)="modalRef.close()"></button>
    </div>
    <div class="modal-body">
        <app-aluno-form [aluno]="alunoEdit" (meuEvento)="meuEventoTratamento($event)"></app-aluno-form>
    </div>
</ng-template>